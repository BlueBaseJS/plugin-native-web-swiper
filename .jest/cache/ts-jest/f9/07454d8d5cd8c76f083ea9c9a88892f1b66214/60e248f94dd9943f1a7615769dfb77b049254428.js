"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const react_native_1 = require("react-native");
const react_1 = tslib_1.__importDefault(require("react"));
class Swiper extends react_1.default.Component {
    constructor(props) {
        super(props);
        this.getActionMinWidth = (props) => {
            return ((props.direction === 'row' ? this.state.width : this.state.height) * props.actionMinWidth);
        };
        this.state = {
            activeIndex: props.index,
            height: 0,
            pan: new react_native_1.Animated.ValueXY(),
            width: 0,
        };
        this._animatedValueX = 0;
        this._animatedValueY = 0;
        this._panResponder = react_native_1.PanResponder.create({
            onMoveShouldSetPanResponderCapture: (_e, gestureState) => {
                if (this.props.onAnimationStart) {
                    this.props.onAnimationStart();
                }
                const allow = Math.abs(this.props.direction === 'row' ? gestureState.dx : gestureState.dy) > 5;
                if (allow) {
                    this.stopAutoplay();
                }
                return allow;
            },
            // onMoveShouldSetResponderCapture: () => true,
            onPanResponderGrant: (_e, _gestureState) => this._fixState(),
            onPanResponderMove: react_native_1.Animated.event([
                null, this.props.direction === 'row' ? { dx: this.state.pan.x } : { dy: this.state.pan.y },
            ]),
            onPanResponderRelease: (_e, gesture) => {
                const correction = this.props.direction === 'row' ? gesture.moveX - gesture.x0 : gesture.moveY - gesture.y0;
                this.startAutoplay();
                if (Math.abs(correction) < this.getActionMinWidth(props)) {
                    return react_native_1.Animated.spring(this.state.pan, { toValue: { x: 0, y: 0 } }).start(() => {
                        if (this.props.onAnimationEnd) {
                            this.props.onAnimationEnd(this.state.activeIndex);
                        }
                    });
                }
                this._changeIndex(correction > 0 ? -1 : 1);
            },
            onPanResponderTerminationRequest: () => false,
        });
    }
    componentDidMount() {
        this.state.pan.x.addListener((value) => this._animatedValueX = value.value);
        this.state.pan.y.addListener((value) => this._animatedValueY = value.value);
        this.startAutoplay();
    }
    componentWillUnmount() {
        this.stopAutoplay();
        this.state.pan.x.removeAllListeners();
        this.state.pan.y.removeAllListeners();
    }
    startAutoplay() {
        this.stopAutoplay();
        if (!!this.props.autoplayTimeout) {
            this.autoplay = setTimeout(() => {
                this.moveUpDown(this.props.autoplayTimeout < 0);
            }, Math.abs(this.props.autoplayTimeout) * 1000);
        }
    }
    stopAutoplay() {
        if (!!this.autoplay) {
            clearTimeout(this.autoplay);
        }
    }
    moveUpDown(down = false) {
        this._fixState();
        if (this.props.onAnimationStart) {
            this.props.onAnimationStart();
        }
        this._changeIndex(down ? -1 : 1);
    }
    _fixState() {
        this._animatedValueX = this.props.direction === 'row' ? this.state.width * this.state.activeIndex * -1 : 0;
        this._animatedValueY = this.props.direction === 'row' ? 0 : this.state.height * this.state.activeIndex * -1;
        this.state.pan.setOffset({ x: this._animatedValueX, y: this._animatedValueY });
        this.state.pan.setValue({ x: 0, y: 0 });
    }
    _changeIndex(delta = 1) {
        const move = { x: 0, y: 0 };
        let skipChanges = (!delta);
        let calcDelta = delta;
        if (this.state.activeIndex <= 0 && delta < 0) {
            skipChanges = (!this.props.loop);
            calcDelta = this.count + delta;
        }
        else if (this.state.activeIndex + 1 >= this.count && delta > 0) {
            skipChanges = (!this.props.loop);
            calcDelta = -1 * this.state.activeIndex + delta - 1;
        }
        if (skipChanges) {
            return react_native_1.Animated.spring(this.state.pan, { toValue: move }).start(() => {
                if (this.props.onAnimationEnd) {
                    this.props.onAnimationEnd(this.state.activeIndex);
                }
            });
        }
        this.stopAutoplay();
        const index = this.state.activeIndex + calcDelta;
        this.setState({ activeIndex: index });
        if (this.props.direction === 'row') {
            move.x = this.state.width * -1 * calcDelta;
        }
        else {
            move.y = this.state.height * -1 * calcDelta;
        }
        react_native_1.Animated.spring(this.state.pan, { toValue: move }).start(() => {
            if (this.props.onAnimationEnd) {
                this.props.onAnimationEnd(index);
            }
        });
        this.startAutoplay();
        if (!!this.props.onIndexChanged) {
            this.props.onIndexChanged(index);
        }
    }
    _onLayout(event) {
        const { width, height } = event.nativeEvent.layout;
        this.setState({ width, height }, () => this._fixState());
    }
    render() {
        const { pan, width, height, activeIndex } = this.state;
        const { direction, containerStyle, swipeAreaStyle, swipeWrapperStyle, controlsWrapperStyle, dotsWrapperStyle, dotElement, dotStyle, activeDotElement, activeDotStyle, prevButtonElement, prevButtonStyle, prevButtonText, nextButtonElement, nextButtonStyle, nextButtonText, loop, scrollEnabled, showDots, showNextPrev } = this.props;
        if (!width) {
            return (react_1.default.createElement(react_native_1.View, { style: [styles.container, containerStyle], onLayout: this._onLayout.bind(this) }));
        }
        const overRangeButtonsOpacity = !loop ? this.props.overRangeButtonsOpacity : this.props.overRangeButtonsOpacity || 1;
        let { children } = this.props;
        if (!Array.isArray(children)) {
            children = [children];
        }
        this.count = children.length;
        return (react_1.default.createElement(react_native_1.View, { style: [styles.container, containerStyle], onLayout: this._onLayout.bind(this) },
            react_1.default.createElement(react_native_1.View, { style: [styles.sliderContainer, swipeAreaStyle] },
                scrollEnabled ?
                    react_1.default.createElement(react_native_1.Animated.View, Object.assign({ style: [{
                                left: 0,
                                position: 'relative',
                                top: 0,
                            }, swipeWrapperStyle, {
                                flexDirection: direction,
                                height: direction === 'row' ? height : height * this.count,
                                width: direction === 'row' ? width * this.count : width,
                            }, { transform: [{ translateX: pan.x }, { translateY: pan.y }] }] }, this._panResponder.panHandlers), children.map((el, i) => (react_1.default.createElement(react_native_1.View, { key: i, style: { width, height } }, el)))) :
                    react_1.default.createElement(react_native_1.Animated.View, { style: [{
                                left: 0,
                                position: 'relative',
                                top: 0,
                            }, swipeWrapperStyle, {
                                flexDirection: direction,
                                height: direction === 'row' ? height : height * this.count,
                                width: direction === 'row' ? width * this.count : width,
                            }, { transform: [{ translateX: pan.x }, { translateY: pan.y }] }] }, children.map((el, i) => (react_1.default.createElement(react_native_1.View, { key: i, style: { width, height } }, el)))),
                react_1.default.createElement(react_native_1.Animated.View, { style: [{
                            left: 0,
                            position: 'relative',
                            top: 0,
                        }, swipeWrapperStyle, {
                            flexDirection: direction,
                            height: direction === 'row' ? height : height * this.count,
                            width: direction === 'row' ? width * this.count : width,
                        }, { transform: [{ translateX: pan.x }, { translateY: pan.y }] }] }, children.map((el, i) => (react_1.default.createElement(react_native_1.View, { key: i, style: { width, height } }, el)))),
                (showDots || showNextPrev) && react_1.default.createElement(react_native_1.View, { style: [styles.controlsWrapperStyle, {
                            flexDirection: direction,
                        }, direction === 'row' ? { left: 0 } : { top: 0 }, controlsWrapperStyle] },
                    showNextPrev && react_1.default.createElement(react_native_1.View, { style: { opacity: !activeIndex ? overRangeButtonsOpacity : 1 } },
                        react_1.default.createElement(react_native_1.TouchableOpacity, { disabled: !activeIndex && !loop, onPress: () => this.moveUpDown(true) }, prevButtonElement || react_1.default.createElement(react_native_1.Text, { style: [styles.prevButtonStyle, prevButtonStyle] }, prevButtonText))),
                    showDots && react_1.default.createElement(react_native_1.View, { style: [{ flexDirection: direction }, styles.dotsWrapperStyle, dotsWrapperStyle] }, children.map((_el, i) => (react_1.default.createElement(react_native_1.View, { key: i }, i === activeIndex
                        ? activeDotElement || react_1.default.createElement(react_native_1.View, { style: [styles.activeDotStyle, activeDotStyle] })
                        : dotElement || react_1.default.createElement(react_native_1.View, { style: [styles.dotStyle, dotStyle] }))))),
                    showNextPrev && react_1.default.createElement(react_native_1.View, { style: { opacity: activeIndex + 1 >= this.count ? overRangeButtonsOpacity : 1 } },
                        react_1.default.createElement(react_native_1.TouchableOpacity, { disabled: activeIndex + 1 >= this.count && !loop, onPress: () => this.moveUpDown() }, nextButtonElement || react_1.default.createElement(react_native_1.Text, { style: [styles.nextButtonStyle, nextButtonStyle] }, nextButtonText)))))));
    }
}
Swiper.defaultProps = {
    actionMinWidth: 0.25,
    autoplayTimeout: 0,
    direction: 'row',
    index: 0,
    loop: false,
    nextButtonText: 'next',
    overRangeButtonsOpacity: 0,
    prevButtonText: 'prev',
    scrollEnabled: true,
    showDots: true,
    showNextPrev: true,
};
exports.default = Swiper;
const styles = react_native_1.StyleSheet.create({
    activeDotStyle: {
        backgroundColor: '#007aff',
        borderRadius: 4,
        height: 8,
        marginBottom: 3,
        marginLeft: 3,
        marginRight: 3,
        marginTop: 3,
        width: 8,
    },
    container: {
        backgroundColor: 'transparent',
        flex: 1,
    },
    controlsWrapperStyle: {
        alignItems: 'center',
        bottom: 0,
        justifyContent: 'space-between',
        padding: 10,
        position: 'absolute',
        right: 0,
    },
    dotStyle: {
        backgroundColor: 'rgba(0,0,0,.2)',
        borderRadius: 4,
        height: 8,
        marginBottom: 3,
        marginLeft: 3,
        marginRight: 3,
        marginTop: 3,
        width: 8,
    },
    dotsWrapperStyle: {
        alignItems: 'center',
        justifyContent: 'center',
    },
    nextButtonStyle: {
        color: '#007aff',
    },
    prevButtonStyle: {
        color: '#777777',
    },
    sliderContainer: {
        backgroundColor: 'transparent',
        flex: 1,
        overflow: 'hidden',
        position: 'relative',
    },
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL211aGFtbWFkZGFuaWFsaXFiYWwvRG9jdW1lbnRzL2JsdWVlYXN0L3BsdWdpbnMtYWQvcGx1Z2luLW5hdGl2ZS13ZWItc3dpcGVyL3NyYy9jb21wb25lbnRzL3BsdWdpbi1uYXRpdmUtd2ViLXN3aXBlci9wbHVnaW4tbmF0aXZlLXdlYi1zd2lwZXIudHN4IiwibWFwcGluZ3MiOiI7OztBQUFBLCtDQVFzQjtBQUV0QiwwREFBMEI7QUFzQzFCLE1BQXFCLE1BQU8sU0FBUSxlQUFLLENBQUMsU0FBdUI7SUFvQmhFLFlBQVksS0FBWTtRQUN2QixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFzQ2Qsc0JBQWlCLEdBQUcsQ0FBQyxLQUFZLEVBQUUsRUFBRTtZQUNwQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3BHLENBQUMsQ0FBQTtRQXZDQSxJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1osV0FBVyxFQUFFLEtBQUssQ0FBQyxLQUFLO1lBQ3hCLE1BQU0sRUFBRSxDQUFDO1lBQ1QsR0FBRyxFQUFFLElBQUksdUJBQVEsQ0FBQyxPQUFPLEVBQUU7WUFDM0IsS0FBSyxFQUFFLENBQUM7U0FDUixDQUFDO1FBQ0YsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLGFBQWEsR0FBRywyQkFBWSxDQUFDLE1BQU0sQ0FBQztZQUN4QyxrQ0FBa0MsRUFBRSxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBRTtnQkFDeEQsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFFO29CQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFF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QztLQUNSO0lBQ0QsU0FBUyxFQUFFO1FBQ1YsZUFBZSxFQUFFLGFBQWE7UUFDOUIsSUFBSSxFQUFFLENBQUM7S0FDUDtJQUNELG9CQUFvQixFQUFFO1FBQ3JCLFVBQVUsRUFBRSxRQUFRO1FBQ3BCLE1BQU0sRUFBRSxDQUFDO1FBQ1QsY0FBYyxFQUFFLGVBQWU7UUFDL0IsT0FBTyxFQUFFLEVBQUU7UUFDWCxRQUFRLEVBQUUsVUFBVTtRQUNwQixLQUFLLEVBQUUsQ0FBQztLQUNSO0lBQ0QsUUFBUSxFQUFFO1FBQ1QsZUFBZSxFQUFFLGdCQUFnQjtRQUNqQyxZQUFZLEVBQUUsQ0FBQztRQUNmLE1BQU0sRUFBRSxDQUFDO1FBQ1QsWUFBWSxFQUFFLENBQUM7UUFDZixVQUFVLEVBQUUsQ0FBQztRQUNiLFdBQVcsRUFBRSxDQUFDO1FBQ2QsU0FBUyxFQUFFLENBQUM7UUFDWixLQUFLLEVBQUUsQ0FBQztLQUNSO0lBQ0QsZ0JBQWdCLEVBQUU7UUFDakIsVUFBVSxFQUFFLFFBQVE7UUFDcEIsY0FBYyxFQUFFLFFBQVE7S0FDeEI7SUFDRCxlQUFlLEVBQUU7UUFDaEIsS0FBSyxFQUFFLFNBQVM7S0FDaEI7SUFDRCxlQUFlLEVBQUU7UUFDaEIsS0FBSyxFQUFFLFNBQVM7S0FDaEI7SUFDRCxlQUFlLEVBQUU7UUFDaEIsZUFBZSxFQUFFLGFBQWE7UUFDOUIsSUFBSSxFQUFFLENBQUM7UUFDUCxRQUFRLEVBQUUsUUFBUTtRQUNsQixRQUFRLEVBQUUsVUFBVTtLQUNwQjtDQUNELENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvbXVoYW1tYWRkYW5pYWxpcWJhbC9Eb2N1bWVudHMvYmx1ZWVhc3QvcGx1Z2lucy1hZC9wbHVnaW4tbmF0aXZlLXdlYi1zd2lwZXIvc3JjL2NvbXBvbmVudHMvcGx1Z2luLW5hdGl2ZS13ZWItc3dpcGVyL3BsdWdpbi1uYXRpdmUtd2ViLXN3aXBlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcblx0QW5pbWF0ZWQsXG5cdFBhblJlc3BvbmRlcixcblx0UGFuUmVzcG9uZGVySW5zdGFuY2UsXG5cdFN0eWxlU2hlZXQsXG5cdFRleHQsXG5cdFRvdWNoYWJsZU9wYWNpdHksXG5cdFZpZXdcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIFByb3BzIHtcblx0YWN0aW9uTWluV2lkdGg6IG51bWJlcixcblx0YWN0aXZlRG90RWxlbWVudDogYW55LFxuXHRhY3RpdmVEb3RTdHlsZTogb2JqZWN0LFxuXHRhdXRvcGxheVRpbWVvdXQ6IG51bWJlcixcblx0Y2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSBbXSxcblx0Y29udGFpbmVyU3R5bGU6IG9iamVjdCxcblx0Y29udHJvbHNXcmFwcGVyU3R5bGU6IG9iamVjdCxcblx0ZGlyZWN0aW9uOiAncm93JyB8ICdjb2x1bW4nLFxuXHRkb3RFbGVtZW50OiBhbnksXG5cdGRvdFN0eWxlOiBvYmplY3QsXG5cdGRvdHNXcmFwcGVyU3R5bGU6IG9iamVjdCxcblx0aW5kZXg6IG51bWJlcixcblx0bG9vcDogYm9vbGVhbixcblx0bmV4dEJ1dHRvbkVsZW1lbnQ6IGFueSxcblx0bmV4dEJ1dHRvblN0eWxlOiBvYmplY3QsXG5cdG5leHRCdXR0b25UZXh0OiBzdHJpbmcsXG5cdG9uQW5pbWF0aW9uRW5kOiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZCxcblx0b25BbmltYXRpb25TdGFydDogKCkgPT4gdm9pZCxcblx0b25JbmRleENoYW5nZWQ6IChpbmRleDogbnVtYmVyKSA9PiB2b2lkLFxuXHRvdmVyUmFuZ2VCdXR0b25zT3BhY2l0eTogbnVtYmVyLFxuXHRwcmV2QnV0dG9uRWxlbWVudDogYW55LFxuXHRwcmV2QnV0dG9uU3R5bGU6IG9iamVjdCxcblx0cHJldkJ1dHRvblRleHQ6IHN0cmluZyxcblx0c2Nyb2xsRW5hYmxlZDogYm9vbGVhbixcblx0c3dpcGVBcmVhU3R5bGU6IG9iamVjdCxcblx0c3dpcGVXcmFwcGVyU3R5bGU6IG9iamVjdCxcblx0c2hvd0RvdHM6IGJvb2xlYW4sXG5cdHNob3dOZXh0UHJldjogYm9vbGVhblxufVxuaW50ZXJmYWNlIFN0YXRlIHtcblx0YWN0aXZlSW5kZXg6IG51bWJlcixcblx0aGVpZ2h0OiBudW1iZXIsXG5cdHBhbjogYW55LFxuXHR3aWR0aDogbnVtYmVyLFxufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dpcGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGFjdGlvbk1pbldpZHRoOiAwLjI1LFxuXHRcdGF1dG9wbGF5VGltZW91dDogMCxcblx0XHRkaXJlY3Rpb246ICdyb3cnLFxuXHRcdGluZGV4OiAwLFxuXHRcdGxvb3A6IGZhbHNlLFxuXHRcdG5leHRCdXR0b25UZXh0OiAnbmV4dCcsXG5cdFx0b3ZlclJhbmdlQnV0dG9uc09wYWNpdHk6IDAsXG5cdFx0cHJldkJ1dHRvblRleHQ6ICdwcmV2Jyxcblx0XHRzY3JvbGxFbmFibGVkOiB0cnVlLFxuXHRcdHNob3dEb3RzOiB0cnVlLFxuXHRcdHNob3dOZXh0UHJldjogdHJ1ZSxcblx0fTtcblx0X2FuaW1hdGVkVmFsdWVYOiBudW1iZXI7XG5cdF9hbmltYXRlZFZhbHVlWTogbnVtYmVyO1xuXHRfcGFuUmVzcG9uZGVyOiBQYW5SZXNwb25kZXJJbnN0YW5jZTtcblx0Y291bnQhOiBudW1iZXI7XG4gXHRhdXRvcGxheSE6IG51bWJlcjtcblx0XG5cdGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0YWN0aXZlSW5kZXg6IHByb3BzLmluZGV4LFxuXHRcdFx0aGVpZ2h0OiAwLFxuXHRcdFx0cGFuOiBuZXcgQW5pbWF0ZWQuVmFsdWVYWSgpLFxuXHRcdFx0d2lkdGg6IDAsXG5cdFx0fTtcblx0XHR0aGlzLl9hbmltYXRlZFZhbHVlWCA9IDA7XG5cdFx0dGhpcy5fYW5pbWF0ZWRWYWx1ZVkgPSAwO1xuXHRcdHRoaXMuX3BhblJlc3BvbmRlciA9IFBhblJlc3BvbmRlci5jcmVhdGUoe1xuXHRcdFx0b25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZTogKF9lLCBnZXN0dXJlU3RhdGUpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMucHJvcHMub25BbmltYXRpb25TdGFydCkge1xuXHRcdFx0XHRcdHRoaXMucHJvcHMub25BbmltYXRpb25TdGFydCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGFsbG93ID0gTWF0aC5hYnModGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICdyb3cnID8gZ2VzdHVyZVN0YXRlLmR4IDogZ2VzdHVyZVN0YXRlLmR5KSA+IDU7XG5cdFx0XHRcdGlmIChhbGxvdykgeyB0aGlzLnN0b3BBdXRvcGxheSgpOyB9XG5cdFx0XHRcdHJldHVybiBhbGxvdztcblx0XHRcdH0sXG5cdFx0XHQvLyBvbk1vdmVTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiAoKSA9PiB0cnVlLFxuXHRcdFx0b25QYW5SZXNwb25kZXJHcmFudDogKF9lLCBfZ2VzdHVyZVN0YXRlKSA9PiB0aGlzLl9maXhTdGF0ZSgpLFxuXHRcdFx0b25QYW5SZXNwb25kZXJNb3ZlOiBBbmltYXRlZC5ldmVudChbXG5cdFx0XHRcdG51bGwsIHRoaXMucHJvcHMuZGlyZWN0aW9uID09PSAncm93JyA/IHsgZHg6IHRoaXMuc3RhdGUucGFuLnggfSA6IHsgZHk6IHRoaXMuc3RhdGUucGFuLnkgfSxcblx0XHRcdF0pLFxuXHRcdFx0b25QYW5SZXNwb25kZXJSZWxlYXNlOiAoX2UsIGdlc3R1cmUpID0+IHtcblx0XHRcdFx0Y29uc3QgY29ycmVjdGlvbiA9IHRoaXMucHJvcHMuZGlyZWN0aW9uID09PSAncm93JyA/IGdlc3R1cmUubW92ZVggLSBnZXN0dXJlLngwIDogZ2VzdHVyZS5tb3ZlWSAtIGdlc3R1cmUueTA7XG5cdFx0XHRcdHRoaXMuc3RhcnRBdXRvcGxheSgpO1xuXHRcdFx0XHRpZiAoTWF0aC5hYnMoY29ycmVjdGlvbikgPCB0aGlzLmdldEFjdGlvbk1pbldpZHRoKHByb3BzKSkge1xuXHRcdFx0XHRcdHJldHVybiBBbmltYXRlZC5zcHJpbmcodGhpcy5zdGF0ZS5wYW4sIHsgdG9WYWx1ZTogeyB4OiAwLCB5OiAwIH0gfSkuc3RhcnQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMucHJvcHMub25BbmltYXRpb25FbmQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5vbkFuaW1hdGlvbkVuZCh0aGlzLnN0YXRlLmFjdGl2ZUluZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9jaGFuZ2VJbmRleChjb3JyZWN0aW9uID4gMCA/IC0xIDogMSk7XG5cdFx0XHR9LFxuXHRcdFx0b25QYW5SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6ICgpID0+IGZhbHNlLFxuXHRcdH0pO1xuXHR9XG5cdGdldEFjdGlvbk1pbldpZHRoID0gKHByb3BzOiBQcm9wcykgPT4ge1xuXHRcdHJldHVybiAoKHByb3BzLmRpcmVjdGlvbiA9PT0gJ3JvdycgPyB0aGlzLnN0YXRlLndpZHRoIDogdGhpcy5zdGF0ZS5oZWlnaHQpICogcHJvcHMuYWN0aW9uTWluV2lkdGgpO1xuXHR9XG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMuc3RhdGUucGFuLnguYWRkTGlzdGVuZXIoKHZhbHVlIDoge3ZhbHVlOiBudW1iZXJ9KSA9PiB0aGlzLl9hbmltYXRlZFZhbHVlWCA9IHZhbHVlLnZhbHVlKTtcblx0XHR0aGlzLnN0YXRlLnBhbi55LmFkZExpc3RlbmVyKCh2YWx1ZSA6IHt2YWx1ZTogbnVtYmVyfSkgPT4gdGhpcy5fYW5pbWF0ZWRWYWx1ZVkgPSB2YWx1ZS52YWx1ZSk7XG5cdFx0dGhpcy5zdGFydEF1dG9wbGF5KCk7XG5cdH1cblx0Y29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdFx0dGhpcy5zdG9wQXV0b3BsYXkoKTtcblx0XHR0aGlzLnN0YXRlLnBhbi54LnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHRcdHRoaXMuc3RhdGUucGFuLnkucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cdH1cblx0c3RhcnRBdXRvcGxheSgpIHtcblx0XHR0aGlzLnN0b3BBdXRvcGxheSgpO1xuXHRcdGlmICghIXRoaXMucHJvcHMuYXV0b3BsYXlUaW1lb3V0KSB7XG5cdFx0XHR0aGlzLmF1dG9wbGF5ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMubW92ZVVwRG93bih0aGlzLnByb3BzLmF1dG9wbGF5VGltZW91dCA8IDApO1xuXHRcdFx0fSwgTWF0aC5hYnModGhpcy5wcm9wcy5hdXRvcGxheVRpbWVvdXQpICogMTAwMCk7XG5cdFx0fVxuXHR9XG5cdHN0b3BBdXRvcGxheSgpIHtcblx0XHRpZiAoISF0aGlzLmF1dG9wbGF5KSB7XG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5hdXRvcGxheSk7XG5cdFx0fVxuXHR9XG5cdG1vdmVVcERvd24oZG93bjogYm9vbGVhbiA9IGZhbHNlKSB7XG5cdFx0dGhpcy5fZml4U3RhdGUoKTtcblx0XHRpZiAodGhpcy5wcm9wcy5vbkFuaW1hdGlvblN0YXJ0KSB7XG5cdFx0XHR0aGlzLnByb3BzLm9uQW5pbWF0aW9uU3RhcnQoKTtcblx0XHR9XG5cdFx0dGhpcy5fY2hhbmdlSW5kZXgoZG93biA/IC0xIDogMSk7XG5cdH1cblx0X2ZpeFN0YXRlKCkge1xuXHRcdHRoaXMuX2FuaW1hdGVkVmFsdWVYID0gdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICdyb3cnID8gdGhpcy5zdGF0ZS53aWR0aCAqIHRoaXMuc3RhdGUuYWN0aXZlSW5kZXggKiAtMSA6IDA7XG5cdFx0dGhpcy5fYW5pbWF0ZWRWYWx1ZVkgPSB0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gJ3JvdycgPyAwIDogdGhpcy5zdGF0ZS5oZWlnaHQgKiB0aGlzLnN0YXRlLmFjdGl2ZUluZGV4ICogLTE7XG5cdFx0dGhpcy5zdGF0ZS5wYW4uc2V0T2Zmc2V0KHsgeDogdGhpcy5fYW5pbWF0ZWRWYWx1ZVgsIHk6IHRoaXMuX2FuaW1hdGVkVmFsdWVZIH0pO1xuXHRcdHRoaXMuc3RhdGUucGFuLnNldFZhbHVlKHsgeDogMCwgeTogMCB9KTtcblx0fVxuXHRfY2hhbmdlSW5kZXgoZGVsdGE6IG51bWJlciA9IDEpIHtcblx0XHRjb25zdCBtb3ZlID0geyB4OiAwLCB5OiAwIH07XG5cdFx0bGV0IHNraXBDaGFuZ2VzID0gKCFkZWx0YSk7XG5cdFx0bGV0IGNhbGNEZWx0YSA9IGRlbHRhO1xuXHRcdGlmICh0aGlzLnN0YXRlLmFjdGl2ZUluZGV4IDw9IDAgJiYgZGVsdGEgPCAwKSB7XG5cdFx0XHRza2lwQ2hhbmdlcyA9ICghdGhpcy5wcm9wcy5sb29wKTtcblx0XHRcdGNhbGNEZWx0YSA9IHRoaXMuY291bnQgKyBkZWx0YTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuc3RhdGUuYWN0aXZlSW5kZXggKyAxID49IHRoaXMuY291bnQgJiYgZGVsdGEgPiAwKSB7XG5cdFx0XHRza2lwQ2hhbmdlcyA9ICghdGhpcy5wcm9wcy5sb29wKTtcblx0XHRcdGNhbGNEZWx0YSA9IC0xICogdGhpcy5zdGF0ZS5hY3RpdmVJbmRleCArIGRlbHRhIC0gMTtcblx0XHR9XG5cdFx0aWYgKHNraXBDaGFuZ2VzKSB7XG5cdFx0XHRyZXR1cm4gQW5pbWF0ZWQuc3ByaW5nKHRoaXMuc3RhdGUucGFuLCB7IHRvVmFsdWU6IG1vdmUgfSkuc3RhcnQoKCkgPT4ge1xuXHRcdFx0XHRpZiAodGhpcy5wcm9wcy5vbkFuaW1hdGlvbkVuZCkge1xuXHRcdFx0XHRcdHRoaXMucHJvcHMub25BbmltYXRpb25FbmQodGhpcy5zdGF0ZS5hY3RpdmVJbmRleCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0XHR0aGlzLnN0b3BBdXRvcGxheSgpO1xuXHRcdGNvbnN0IGluZGV4ID0gdGhpcy5zdGF0ZS5hY3RpdmVJbmRleCArIGNhbGNEZWx0YTtcblx0XHR0aGlzLnNldFN0YXRlKHsgYWN0aXZlSW5kZXg6IGluZGV4IH0pO1xuXHRcdGlmICh0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gJ3JvdycpIHtcblx0XHRcdG1vdmUueCA9IHRoaXMuc3RhdGUud2lkdGggKiAtMSAqIGNhbGNEZWx0YTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRtb3ZlLnkgPSB0aGlzLnN0YXRlLmhlaWdodCAqIC0xICogY2FsY0RlbHRhO1xuXHRcdH1cblx0XHRBbmltYXRlZC5zcHJpbmcodGhpcy5zdGF0ZS5wYW4sIHsgdG9WYWx1ZTogbW92ZSB9KS5zdGFydCgoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vbkFuaW1hdGlvbkVuZCkge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uQW5pbWF0aW9uRW5kKGluZGV4KTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHR0aGlzLnN0YXJ0QXV0b3BsYXkoKTtcblx0XHRpZiAoISF0aGlzLnByb3BzLm9uSW5kZXhDaGFuZ2VkKSB7XG5cdFx0XHR0aGlzLnByb3BzLm9uSW5kZXhDaGFuZ2VkKGluZGV4KTtcblx0XHR9XG5cdH1cblx0X29uTGF5b3V0KGV2ZW50OiBhbnkpIHtcblx0XHRjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmxheW91dDtcblx0XHR0aGlzLnNldFN0YXRlKHsgd2lkdGgsIGhlaWdodCB9LCAoKSA9PiB0aGlzLl9maXhTdGF0ZSgpKTtcblx0fVxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgeyBwYW4sIHdpZHRoLCBoZWlnaHQsIGFjdGl2ZUluZGV4IH0gPSB0aGlzLnN0YXRlO1xuXHRcdGNvbnN0IHtcblx0XHRcdGRpcmVjdGlvbixcblx0XHRcdGNvbnRhaW5lclN0eWxlLFxuXHRcdFx0c3dpcGVBcmVhU3R5bGUsXG5cdFx0XHRzd2lwZVdyYXBwZXJTdHlsZSxcblx0XHRcdGNvbnRyb2xzV3JhcHBlclN0eWxlLFxuXHRcdFx0ZG90c1dyYXBwZXJTdHlsZSxcblx0XHRcdGRvdEVsZW1lbnQsXG5cdFx0XHRkb3RTdHlsZSxcblx0XHRcdGFjdGl2ZURvdEVsZW1lbnQsXG5cdFx0XHRhY3RpdmVEb3RTdHlsZSxcblx0XHRcdHByZXZCdXR0b25FbGVtZW50LFxuXHRcdFx0cHJldkJ1dHRvblN0eWxlLFxuXHRcdFx0cHJldkJ1dHRvblRleHQsXG5cdFx0XHRuZXh0QnV0dG9uRWxlbWVudCxcblx0XHRcdG5leHRCdXR0b25TdHlsZSxcblx0XHRcdG5leHRCdXR0b25UZXh0LFxuXHRcdFx0bG9vcCxcblx0XHRcdHNjcm9sbEVuYWJsZWQsXG5cdFx0XHRzaG93RG90cyxcblx0XHRcdHNob3dOZXh0UHJldlxuXHRcdH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICghd2lkdGgpIHtcblx0XHRcdHJldHVybiAoPFZpZXcgc3R5bGU9e1tzdHlsZXMuY29udGFpbmVyLCBjb250YWluZXJTdHlsZV19IG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dC5iaW5kKHRoaXMpfSAvPik7XG5cdFx0fVxuXHRcdGNvbnN0IG92ZXJSYW5nZUJ1dHRvbnNPcGFjaXR5ID0gIWxvb3AgPyB0aGlzLnByb3BzLm92ZXJSYW5nZUJ1dHRvbnNPcGFjaXR5IDogdGhpcy5wcm9wcy5vdmVyUmFuZ2VCdXR0b25zT3BhY2l0eSB8fCAxO1xuXHRcdGxldCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcblx0XHRcdGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcblx0XHR9XG5cdFx0dGhpcy5jb3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PFZpZXcgc3R5bGU9e1tzdHlsZXMuY29udGFpbmVyLCBjb250YWluZXJTdHlsZV19IG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dC5iaW5kKHRoaXMpfT5cblx0XHRcdFx0PFZpZXcgc3R5bGU9e1tzdHlsZXMuc2xpZGVyQ29udGFpbmVyLCBzd2lwZUFyZWFTdHlsZV19PlxuXHRcdFx0XHRcdHtzY3JvbGxFbmFibGVkID9cblx0XHRcdFx0XHRcdDxBbmltYXRlZC5WaWV3XG5cdFx0XHRcdFx0XHRcdHN0eWxlPXtbe1xuXHRcdFx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZScsXG5cdFx0XHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0XHR9LCBzd2lwZVdyYXBwZXJTdHlsZSwge1xuXHRcdFx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IGRpcmVjdGlvbixcblx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6IGRpcmVjdGlvbiA9PT0gJ3JvdycgPyBoZWlnaHQgOiBoZWlnaHQgKiB0aGlzLmNvdW50LFxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiBkaXJlY3Rpb24gPT09ICdyb3cnID8gd2lkdGggKiB0aGlzLmNvdW50IDogd2lkdGgsXG5cdFx0XHRcdFx0XHRcdH0sIHsgdHJhbnNmb3JtOiBbeyB0cmFuc2xhdGVYOiBwYW4ueCB9LCB7IHRyYW5zbGF0ZVk6IHBhbi55IH1dIH1dfVxuXHRcdFx0XHRcdFx0XHR7Li4udGhpcy5fcGFuUmVzcG9uZGVyLnBhbkhhbmRsZXJzfVxuXHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHR7Y2hpbGRyZW4ubWFwKChlbDogUmVhY3QuUmVhY3ROb2RlLCBpKSA9PiAoPFZpZXcga2V5PXtpfSBzdHlsZT17eyB3aWR0aCwgaGVpZ2h0IH19PntlbH08L1ZpZXc+KSl9XG5cdFx0XHRcdFx0XHQ8L0FuaW1hdGVkLlZpZXc+IDpcblx0XHRcdFx0XHRcdDxBbmltYXRlZC5WaWV3XG5cdFx0XHRcdFx0XHRcdHN0eWxlPXtbe1xuXHRcdFx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZScsXG5cdFx0XHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0XHR9LCBzd2lwZVdyYXBwZXJTdHlsZSwge1xuXHRcdFx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IGRpcmVjdGlvbixcblx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6IGRpcmVjdGlvbiA9PT0gJ3JvdycgPyBoZWlnaHQgOiBoZWlnaHQgKiB0aGlzLmNvdW50LFxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiBkaXJlY3Rpb24gPT09ICdyb3cnID8gd2lkdGggKiB0aGlzLmNvdW50IDogd2lkdGgsXG5cdFx0XHRcdFx0XHRcdH0sIHsgdHJhbnNmb3JtOiBbeyB0cmFuc2xhdGVYOiBwYW4ueCB9LCB7IHRyYW5zbGF0ZVk6IHBhbi55IH1dIH1dfVxuXHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHR7Y2hpbGRyZW4ubWFwKChlbDogUmVhY3QuUmVhY3ROb2RlLCBpOiBudW1iZXIpID0+ICg8VmlldyBrZXk9e2l9IHN0eWxlPXt7IHdpZHRoLCBoZWlnaHQgfX0+e2VsfTwvVmlldz4pKX1cblx0XHRcdFx0XHRcdDwvQW5pbWF0ZWQuVmlldz5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0PEFuaW1hdGVkLlZpZXdcblx0XHRcdFx0XHRcdHN0eWxlPXtbe1xuXHRcdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJyxcblx0XHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0fSwgc3dpcGVXcmFwcGVyU3R5bGUsIHtcblx0XHRcdFx0XHRcdFx0ZmxleERpcmVjdGlvbjogZGlyZWN0aW9uLFxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IGRpcmVjdGlvbiA9PT0gJ3JvdycgPyBoZWlnaHQgOiBoZWlnaHQgKiB0aGlzLmNvdW50LFxuXHRcdFx0XHRcdFx0XHR3aWR0aDogZGlyZWN0aW9uID09PSAncm93JyA/IHdpZHRoICogdGhpcy5jb3VudCA6IHdpZHRoLFxuXHRcdFx0XHRcdFx0fSwgeyB0cmFuc2Zvcm06IFt7IHRyYW5zbGF0ZVg6IHBhbi54IH0sIHsgdHJhbnNsYXRlWTogcGFuLnkgfV0gfV19XG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e2NoaWxkcmVuLm1hcCgoZWwgOiBSZWFjdC5SZWFjdE5vZGUsIGk6IG51bWJlcikgPT4gKDxWaWV3IGtleT17aX0gc3R5bGU9e3sgd2lkdGgsIGhlaWdodCB9fT57ZWx9PC9WaWV3PikpfVxuXHRcdFx0XHRcdDwvQW5pbWF0ZWQuVmlldz5cblx0XHRcdFx0XHR7KHNob3dEb3RzIHx8IHNob3dOZXh0UHJldikgJiYgPFZpZXcgc3R5bGU9e1tzdHlsZXMuY29udHJvbHNXcmFwcGVyU3R5bGUsIHtcblx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IGRpcmVjdGlvbixcblx0XHRcdFx0XHR9LCBkaXJlY3Rpb24gPT09ICdyb3cnID8geyBsZWZ0OiAwIH0gOiB7IHRvcDogMCB9LCBjb250cm9sc1dyYXBwZXJTdHlsZV19PlxuXHRcdFx0XHRcdFx0e3Nob3dOZXh0UHJldiAmJiA8VmlldyBzdHlsZT17eyBvcGFjaXR5OiAhYWN0aXZlSW5kZXggPyBvdmVyUmFuZ2VCdXR0b25zT3BhY2l0eSA6IDEgfX0+XG5cdFx0XHRcdFx0XHRcdDxUb3VjaGFibGVPcGFjaXR5IGRpc2FibGVkPXshYWN0aXZlSW5kZXggJiYgIWxvb3B9IG9uUHJlc3M9eygpID0+IHRoaXMubW92ZVVwRG93bih0cnVlKX0+XG5cdFx0XHRcdFx0XHRcdFx0e3ByZXZCdXR0b25FbGVtZW50IHx8IDxUZXh0IHN0eWxlPXtbc3R5bGVzLnByZXZCdXR0b25TdHlsZSwgcHJldkJ1dHRvblN0eWxlXX0+e3ByZXZCdXR0b25UZXh0fTwvVGV4dD59XG5cdFx0XHRcdFx0XHRcdDwvVG91Y2hhYmxlT3BhY2l0eT5cblx0XHRcdFx0XHRcdDwvVmlldz59XG5cdFx0XHRcdFx0XHR7c2hvd0RvdHMgJiYgPFZpZXcgc3R5bGU9e1t7IGZsZXhEaXJlY3Rpb246IGRpcmVjdGlvbiB9LCBzdHlsZXMuZG90c1dyYXBwZXJTdHlsZSwgZG90c1dyYXBwZXJTdHlsZV19PlxuXHRcdFx0XHRcdFx0XHR7Y2hpbGRyZW4ubWFwKChfZWwsIGk6IG51bWJlcikgPT4gKFxuXHRcdFx0XHRcdFx0XHRcdDxWaWV3IGtleT17aX0+XG5cdFx0XHRcdFx0XHRcdFx0XHR7aSA9PT0gYWN0aXZlSW5kZXhcblx0XHRcdFx0XHRcdFx0XHRcdFx0PyBhY3RpdmVEb3RFbGVtZW50IHx8IDxWaWV3IHN0eWxlPXtbc3R5bGVzLmFjdGl2ZURvdFN0eWxlLCBhY3RpdmVEb3RTdHlsZV19IC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDogZG90RWxlbWVudCB8fCA8VmlldyBzdHlsZT17W3N0eWxlcy5kb3RTdHlsZSwgZG90U3R5bGVdfSAvPn1cblx0XHRcdFx0XHRcdFx0XHQ8L1ZpZXc+XG5cdFx0XHRcdFx0XHRcdCkpfVxuXHRcdFx0XHRcdFx0PC9WaWV3Pn1cblx0XHRcdFx0XHRcdHtzaG93TmV4dFByZXYgJiYgPFZpZXcgc3R5bGU9e3sgb3BhY2l0eTogYWN0aXZlSW5kZXggKyAxID49IHRoaXMuY291bnQgPyBvdmVyUmFuZ2VCdXR0b25zT3BhY2l0eSA6IDEgfX0+XG5cdFx0XHRcdFx0XHRcdDxUb3VjaGFibGVPcGFjaXR5IGRpc2FibGVkPXthY3RpdmVJbmRleCArIDEgPj0gdGhpcy5jb3VudCAmJiAhbG9vcH0gb25QcmVzcz17KCkgPT4gdGhpcy5tb3ZlVXBEb3duKCl9PlxuXHRcdFx0XHRcdFx0XHRcdHtuZXh0QnV0dG9uRWxlbWVudCB8fCA8VGV4dCBzdHlsZT17W3N0eWxlcy5uZXh0QnV0dG9uU3R5bGUsIG5leHRCdXR0b25TdHlsZV19PntuZXh0QnV0dG9uVGV4dH08L1RleHQ+fVxuXHRcdFx0XHRcdFx0XHQ8L1RvdWNoYWJsZU9wYWNpdHk+XG5cdFx0XHRcdFx0XHQ8L1ZpZXc+fVxuXHRcdFx0XHRcdDwvVmlldz59XG5cdFx0XHRcdDwvVmlldz5cblx0XHRcdDwvVmlldz5cblx0XHQpO1xuXHR9XG59XG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG5cdGFjdGl2ZURvdFN0eWxlOiB7XG5cdFx0YmFja2dyb3VuZENvbG9yOiAnIzAwN2FmZicsXG5cdFx0Ym9yZGVyUmFkaXVzOiA0LFxuXHRcdGhlaWdodDogOCxcblx0XHRtYXJnaW5Cb3R0b206IDMsXG5cdFx0bWFyZ2luTGVmdDogMyxcblx0XHRtYXJnaW5SaWdodDogMyxcblx0XHRtYXJnaW5Ub3A6IDMsXG5cdFx0d2lkdGg6IDgsXG5cdH0sXG5cdGNvbnRhaW5lcjoge1xuXHRcdGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50Jyxcblx0XHRmbGV4OiAxLFxuXHR9LFxuXHRjb250cm9sc1dyYXBwZXJTdHlsZToge1xuXHRcdGFsaWduSXRlbXM6ICdjZW50ZXInLFxuXHRcdGJvdHRvbTogMCxcblx0XHRqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuXHRcdHBhZGRpbmc6IDEwLFxuXHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdHJpZ2h0OiAwLFxuXHR9LFxuXHRkb3RTdHlsZToge1xuXHRcdGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsLjIpJyxcblx0XHRib3JkZXJSYWRpdXM6IDQsXG5cdFx0aGVpZ2h0OiA4LFxuXHRcdG1hcmdpbkJvdHRvbTogMyxcblx0XHRtYXJnaW5MZWZ0OiAzLFxuXHRcdG1hcmdpblJpZ2h0OiAzLFxuXHRcdG1hcmdpblRvcDogMyxcblx0XHR3aWR0aDogOCxcblx0fSxcblx0ZG90c1dyYXBwZXJTdHlsZToge1xuXHRcdGFsaWduSXRlbXM6ICdjZW50ZXInLFxuXHRcdGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcblx0fSxcblx0bmV4dEJ1dHRvblN0eWxlOiB7XG5cdFx0Y29sb3I6ICcjMDA3YWZmJyxcblx0fSxcblx0cHJldkJ1dHRvblN0eWxlOiB7XG5cdFx0Y29sb3I6ICcjNzc3Nzc3Jyxcblx0fSxcblx0c2xpZGVyQ29udGFpbmVyOiB7XG5cdFx0YmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuXHRcdGZsZXg6IDEsXG5cdFx0b3ZlcmZsb3c6ICdoaWRkZW4nLFxuXHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHR9LFxufSk7Il0sInZlcnNpb24iOjN9